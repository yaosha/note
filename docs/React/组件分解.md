## 组件分解

### 将UI分解为组件层级结构

* 单一指责原则，一个组件只做一件事，如果它最终增长，应该分解成更小的子组件。
* 按照数据结构分解，每个组件展示一部分数据。


### 构建静态版本

* 不考虑交互，不使用state，通过props传递数据
* 简单页面从上到下实现组件，复杂页面从下到上实现组件
* 修改最外层数据，检查数据流动情况


### 识别UI中最小但完整的state

* 列出最小的易变数据集合
* 关键是不要重复；找出应用需要的绝对最少的state，然后按需计算其它数据

* 是否通过props从父组件传进来？如果是就不是state
* 随着时间过去是否保持不变？如果是就不是state
* 是否可以通过其它props或state计算出来？如果是就不是state


### 识别state属于哪个组件

* 标识根据state呈现内容的每个组件
* 查找公共所有者组件（在层次结构中所有需要state组件上方的单个组件）
* 公共所有者组件或层次结构更高的其它组件应该拥有这个state
* 如果找不到应该拥有state的组件，创建一个包含这个state的简单组件，并将其添加到层级高于公共所有者组件的某个位置


### 添加反向数据流

* 子组件需要改变父级组件state，子组件定义时间回调props
* 父组件传递回调函数给子组件，函数值调用setState修改state
